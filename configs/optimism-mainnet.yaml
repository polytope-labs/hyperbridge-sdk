# // Auto-generated , DO NOT EDIT
specVersion: 1.0.0
version: 0.0.1
name: optimism-mainnet
description: Optimism-mainnet Indexer
runner:
    node:
        name: "@subql/node-ethereum"
        version: ">=3.0.0"
    query:
        name: "@subql/query"
        version: "*"
schema:
    file: ./schema.graphql
network:
    chainId: "10"
    endpoint:
        - "https://proportionate-morning-sunset.optimism.quiknode.pro/41000a019275b473de4783a118666d608ae26b22"
dataSources:
    - kind: ethereum/Runtime
      startBlock: 131672087
      options:
          abi: ethereumHost
          address: "0x78c8A5F27C06757EA0e30bEa682f1FD5C8d7645d"
      assets:
          ethereumHost:
              file: ./abis/EthereumHost.abi.json
          chainLinkAggregatorV3:
              file: ./abis/ChainLinkAggregatorV3.abi.json
      mapping:
          file: ./dist/index.js
          handlers:
              - kind: ethereum/LogHandler
                handler: handleStateMachineUpdatedEvent
                filter:
                    topics:
                        - "StateMachineUpdated(string,uint256)"
              - kind: ethereum/LogHandler
                handler: handlePostRequestEvent
                filter:
                    topics:
                        - "PostRequestEvent(string,string,address,bytes,uint256,uint256,bytes,uint256)"
              - kind: ethereum/LogHandler
                handler: handlePostResponseEvent
                filter:
                    topics:
                        - "PostResponseEvent(string,string,address,bytes,uint256,uint256,bytes,bytes,uint256,uint256)"
              - kind: ethereum/LogHandler
                handler: handlePostRequestHandledEvent
                filter:
                    topics:
                        - "PostRequestHandled(bytes32,address)"
              - kind: ethereum/LogHandler
                handler: handlePostResponseHandledEvent
                filter:
                    topics:
                        - "PostResponseHandled(bytes32,address)"
              - kind: ethereum/LogHandler
                handler: handlePostRequestTimeoutHandledEvent
                filter:
                    topics:
                        - "PostRequestTimeoutHandled(bytes32,string)"
              - kind: ethereum/LogHandler
                handler: handlePostResponseTimeoutHandledEvent
                filter:
                    topics:
                        - "PostResponseTimeoutHandled(bytes32,string)"
    - kind: ethereum/Runtime
      startBlock: 131672087
      options:
          abi: erc6160ext20
          address: "0xDA10009cBd5D07dd0CeCc66161FC93D7c9000da1"
      assets:
          erc6160ext20:
              file: ./abis/ERC6160Ext20.abi.json
      mapping:
          file: ./dist/index.js
          handlers:
              - kind: ethereum/LogHandler
                handler: handleTransferEvent
                filter:
                    topics:
                        - "Transfer(address indexed from, address indexed to, uint256 amount)"
    # - kind: ethereum/Runtime
    #   startBlock: 21535312
    #   options:
    #     abi: handlerV1
    #     address: '0xA801da100bF16D07F668F4A49E1f71fc54D05177'
    #   assets:
    #     handlerV1:
    #       file: ./abis/HandlerV1.abi.json
    #   mapping:
    #     file: ./dist/index.js
    #     handlers:
    #       - handler: handlePostRequestTransactionHandler
    #         kind: ethereum/TransactionHandler
    #         function: >-
    #           handlePostRequests(address,(((uint256,uint256),bytes32[],uint256),((bytes,bytes,uint64,bytes,bytes,uint64,bytes),uint256,uint256)[]))
    #       - handler: handlePostResponseTransactionHandler
    #         kind: ethereum/TransactionHandler
    #         function: >-
    #           handlePostResponses(address,(((uint256,uint256),bytes32[],uint256),(((bytes,bytes,uint64,bytes,bytes,uint64,bytes),bytes,uint64),uint256,uint256)[]))

repository: "https://github.com/polytope-labs/hyperbridge"
