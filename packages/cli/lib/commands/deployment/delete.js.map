{"version":3,"file":"delete.js","sourceRoot":"","sources":["../../../src/commands/deployment/delete.ts"],"names":[],"mappings":";AAAA,8DAA8D;AAC9D,mCAAmC;;AAEnC,sCAA2C;AAC3C,+CAAkD;AAClD,0EAAoE;AACpE,uCAAsD;AAEtD,MAAqB,MAAO,SAAQ,cAAO;IACzC,MAAM,CAAC,WAAW,GAAG,mBAAmB,CAAC;IAEzC,MAAM,CAAC,KAAK,GAAG;QACb,GAAG,EAAE,YAAK,CAAC,MAAM,CAAC,EAAC,WAAW,EAAE,yBAAyB,EAAC,CAAC;QAC3D,YAAY,EAAE,YAAK,CAAC,MAAM,CAAC,EAAC,WAAW,EAAE,oBAAoB,EAAC,CAAC;QAC/D,YAAY,EAAE,YAAK,CAAC,MAAM,CAAC,EAAC,WAAW,EAAE,qBAAqB,EAAC,CAAC;KACjE,CAAC;IAEF,KAAK,CAAC,GAAG;QACP,MAAM,EAAC,KAAK,EAAC,GAAG,MAAM,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACzC,MAAM,SAAS,GAAG,MAAM,IAAA,kBAAU,GAAE,CAAC;QACrC,MAAM,GAAG,GAAW,MAAM,IAAA,qBAAa,EAAC,KAAK,CAAC,GAAG,EAAE,oBAAoB,EAAE,0BAA0B,CAAC,CAAC;QACrG,MAAM,YAAY,GAAW,MAAM,IAAA,qBAAa,EAC9C,KAAK,CAAC,YAAY,EAClB,oBAAoB,EACpB,0BAA0B,CAC3B,CAAC;QACF,MAAM,YAAY,GAAW,CAAC,CAAC,MAAM,IAAA,qBAAa,EAChD,KAAK,CAAC,YAAY,EAClB,qBAAqB,EACrB,2BAA2B,CAC5B,CAAC,CAAC;QAEH,IAAI,CAAC,GAAG,CAAC,wBAAwB,YAAY,EAAE,CAAC,CAAC;QACjD,MAAM,aAAa,GAAG,MAAM,IAAA,oCAAgB,EAAC,GAAG,EAAE,YAAY,EAAE,SAAS,EAAE,CAAC,YAAY,EAAE,6BAAiB,CAAC,CAAC,KAAK,CAChH,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CACrB,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,uBAAuB,aAAa,EAAE,CAAC,CAAC;IACnD,CAAC;;AA7BH,yBA8BC","sourcesContent":["// Copyright 2020-2025 SubQuery Pte Ltd authors & contributors\n// SPDX-License-Identifier: GPL-3.0\n\nimport {Command, Flags} from '@oclif/core';\nimport {ROOT_API_URL_PROD} from '../../constants';\nimport {deleteDeployment} from '../../controller/deploy-controller';\nimport {checkToken, valueOrPrompt} from '../../utils';\n\nexport default class Delete extends Command {\n  static description = 'Delete Deployment';\n\n  static flags = {\n    org: Flags.string({description: 'Enter organization name'}),\n    project_name: Flags.string({description: 'Enter project name'}),\n    deploymentID: Flags.string({description: 'Enter deployment ID'}),\n  };\n\n  async run(): Promise<void> {\n    const {flags} = await this.parse(Delete);\n    const authToken = await checkToken();\n    const org: string = await valueOrPrompt(flags.org, 'Enter organisation', 'Organisation is required');\n    const project_name: string = await valueOrPrompt(\n      flags.project_name,\n      'Enter project name',\n      'Project name is required'\n    );\n    const deploymentID: number = +(await valueOrPrompt(\n      flags.deploymentID,\n      'Enter deployment ID',\n      'Deployment ID is required'\n    ));\n\n    this.log(`Removing deployment: ${deploymentID}`);\n    const delete_output = await deleteDeployment(org, project_name, authToken, +deploymentID, ROOT_API_URL_PROD).catch(\n      (e) => this.error(e)\n    );\n    this.log(`Removed deployment: ${delete_output}`);\n  }\n}\n"]}